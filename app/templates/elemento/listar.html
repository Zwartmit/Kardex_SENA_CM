{% extends 'listar.html' %}

{% block columnas %}
<tr>
    <th scope="col" style="text-align: center;">id</th>
    <th scope="col" style="text-align: center;">Item</th>
    <th scope="col" style="text-align: center;">Cantidad</th>
    <th scope="col" style="text-align: center;">Opciones</th>
</tr>
<tr>
    <th style="text-align: center; align-content: center;">
        <input type="text" placeholder="Filtrar" class="filter-input" style="width: 100px;"/>
    </th>
    <th style="text-align: center; align-content: center;">
        <input type="text" placeholder="Filtrar" class="filter-input" style="width: 100px;"/>
    </th>
    <th style="text-align: center; align-content: center;">
        <input type="text" placeholder="Filtrar" class="filter-input" style="width: 100px;"/>
    </th>
    <th style="text-align: center; align-content: center;"></th>
</tr>
{% endblock %}

{% block filas %}
    {% for p in object_list %}
    <tr>
        <td style="text-align: center; align-content: center;">{{ p.id }}</td>
        <td style="text-align: center; align-content: center;">{{ p.item }}</td>
        <td style="text-align: center; align-content: center;">{{ p.cantidad }}</td>
        <td style="text-align: center; align-content: center;">
            <a href="{% url 'app:elemento_editar' p.id %}" class="btn btn-info btn-sm"><i class="fas fa-edit"></i></a>
            <a href="{% url 'app:elemento_eliminar' p.id %}" class="btn btn-danger btn-sm"><i class="fas fa-trash"></i></a>
        </td>
    </tr>
    {% endfor %}
{% endblock %}

{% block javascript %}
<script type="application/javascript">
    $(document).ready(function () {
        var table = $("#tabla").DataTable({
            responsive: true
        });

        $('.filter-input').on('keyup change', function () {
            var columnIndex = $(this).parent().index(); 
            table
                .column(columnIndex)
                .search(this.value) 
                .draw(); 
        });
    });
</script>
{% endblock %}
