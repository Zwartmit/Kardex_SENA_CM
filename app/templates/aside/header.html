{% load static %}
<nav class="main-header navbar navbar-expand navbar-dark navbar-green header-sidebar-gradient">
    <ul class="navbar-nav">
        <li class="nav-itemmm">
        </li>
        <li class="nav-itemmm d-none d-sm-inline-block ">
            <a href="{% url 'dashboard' %}" class="nav-link text-white" style="font-size: 20px; font-style: oblique; text-shadow: 3px 3px 2.5px black;">Inicio</a>
        </li>
    </ul>
    <div class="container">
        <button class="navbar-toggler order-1" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
    <ul class="navbar-nav ml-auto">
        <li class="nav-itemmm dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-user-cog" style="font-size: 30px; color: white; text-shadow: 3px 3px 2.5px black;"></i>
            </a>
            <div class="logout-menu dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
                <span class="dropdown-item" style="color: white">Usuario activo:<br>{{ user.username }}</span>
                <a class="dropdown-item" style="color: white" href="#" onclick="confirmLogout(event)">Cerrar sesión</a>
            </div>
        </li>
    </ul>
</nav>
<script src="{% static 'lib/sweetalert2/sweetHeader.js' %}"></script>
<script>
    function confirmLogout(event) {
        event.preventDefault();
        Swal.fire({
            title: '¿Desea cerrar sesión?',
            text: "",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#034231',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Sí, cerrar sesión',
            cancelButtonText: 'Cancelar'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "{% url 'logout' %}";
            }
        });
    }
</script>